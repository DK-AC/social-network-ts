{"version":3,"file":"static/js/85.cdfc8142.chunk.js","mappings":"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","sources":["webpack://social-network-ts/./src/ui/common/paginator.module.css?3b5c","ui/common/Paginator.tsx","webpack://social-network-ts/./src/ui/Users/users.module.css?71f6","webpack://social-network-ts/./src/ui/Users/User/user.module.css?553d","ui/Users/User/User.tsx","ui/Users/Users.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"paginator\":\"paginator_paginator__mMuFN\",\"pageNumber\":\"paginator_pageNumber__IARDF\",\"selectedPage\":\"paginator_selectedPage__Dl8Nq\"};","import React from 'react';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport {changeCurrentPage, changePortionNumber} from '../../redux/reducers/usersReducer';\r\nimport {useAppSelector} from '../../redux/store';\r\n\r\nimport styles from './paginator.module.css';\r\n\r\ntype PropsType = { portionSize?: number }\r\n\r\nexport const Paginator: React.FC<PropsType> = ({portionSize = 10}) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const {pageSize, currentPage, totalCount, portionNumber} = useAppSelector(state => state.users)\r\n\r\n    const pagesCount = Math.ceil(totalCount / pageSize);\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    const pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        if (i === totalCount) break;\r\n        pages.push(i);\r\n    }\r\n\r\n    const setPortionMinusNumberHandle = () => {\r\n        dispatch(changePortionNumber({portionNumber: portionNumber - 1}))\r\n    }\r\n    const setPortionPlusNumberHandle = () => {\r\n        dispatch(changePortionNumber({portionNumber: portionNumber + 1}))\r\n    }\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n\r\n            {portionNumber > 1 && <button onClick={setPortionMinusNumberHandle}>PREV</button>}\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p, index) => {\r\n                    return (\r\n                        <span key={index}\r\n                              className={currentPage === p ? styles.selectedPage : '' + styles.pageNumber}\r\n                              onClick={() => dispatch(changeCurrentPage({currentPage: p}))}\r\n                        >\r\n                        {p}\r\n                    </span>);\r\n                })}\r\n\r\n            {portionCount > portionNumber && <button onClick={setPortionPlusNumberHandle}>NEXT</button>}\r\n\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"userItems\":\"users_userItems__BllGZ\"};","// extracted by mini-css-extract-plugin\nexport default {\"ava\":\"user_ava__-Gwz1\",\"item\":\"user_item__plEqK\"};","import React from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport {followingTC} from '../../../redux/reducers/usersReducer';\r\nimport {useAppSelector} from '../../../redux/store';\r\nimport {UserType} from '../../../api/userAPI';\r\n\r\nimport styles from './user.module.css';\r\nimport avaImg from './../../../assets/img/client-2-512.webp';\r\n\r\n\r\ntype PropsType = { user: UserType }\r\n\r\nexport const User: React.FC<PropsType> = ({user}) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const followingInProgress = useAppSelector(state => state.users.followingInProgress)\r\n\r\n    const {id, name, photos, followed, status} = user;\r\n\r\n    const followUserHandle = () => dispatch(followingTC({userId: id, isFollow: true}));\r\n    const unFollowUserHandle = () => dispatch(followingTC({userId: id, isFollow: false}));\r\n\r\n\r\n    return (\r\n        <div className={styles.item}>\r\n            <div>\r\n                <div>{name}</div>\r\n            </div>\r\n            <div>\r\n                <div>\r\n                    <NavLink to={'/profile/' + id}>\r\n                        <img\r\n                            src={photos.small ? photos.small : avaImg}\r\n                            alt=\"ava\"\r\n                            className={styles.ava}\r\n                        />\r\n                    </NavLink>\r\n\r\n                </div>\r\n                <div>{status}</div>\r\n\r\n                <div>\r\n                    {followed\r\n                        ? <button disabled={followingInProgress.some(userId => userId === id)}\r\n                                  onClick={unFollowUserHandle}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(userId => userId === id)}\r\n                                  onClick={followUserHandle}>Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React, {useEffect} from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nimport {useAppSelector} from '../../redux/store';\r\nimport {setUsersTC} from '../../redux/reducers/usersReducer';\r\nimport {ParamsUserPageType} from '../../api/userAPI';\r\nimport {Preloader} from '../Preloader/Preloader';\r\nimport {PATH} from '../Routing/Routing';\r\nimport {Paginator} from '../common/Paginator';\r\n\r\nimport styles from './users.module.css';\r\nimport {User} from './User/User';\r\n\r\n\r\nexport const Users: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate()\r\n\r\n    const pageSize = useAppSelector(state => state.users.pageSize);\r\n    const users = useAppSelector(state => state.users.users);\r\n    const currentPage = useAppSelector(state => state.users.currentPage);\r\n    const isLoading = useAppSelector(state => state.app.status);\r\n    const isAuth = useAppSelector(state => state.auth.isAuth);\r\n\r\n    const params: ParamsUserPageType = {\r\n        pageSize,\r\n        currentPage,\r\n    };\r\n\r\n    const user = users.map(u => {\r\n        return <User key={u.id} user={u}/>;\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (!isAuth) {\r\n            navigate(PATH.LOGIN_PAGE)\r\n        }\r\n        dispatch(setUsersTC(params));\r\n    }, [isAuth, navigate, currentPage]);\r\n\r\n    return (\r\n        <div className={styles.userItems}>\r\n            {isLoading === 'loading' ? <Preloader/>\r\n                : <div>\r\n                    <Paginator/>\r\n                    {user}\r\n                </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\n"],"names":["Paginator","portionSize","dispatch","useDispatch","useAppSelector","state","users","pageSize","currentPage","totalCount","portionNumber","pagesCount","Math","ceil","portionCount","leftPortionPageNumber","rightPortionPageNumber","pages","i","push","className","styles","onClick","changePortionNumber","filter","p","map","index","changeCurrentPage","User","user","followingInProgress","id","name","photos","followed","status","to","src","small","avaImg","alt","disabled","some","userId","followingTC","isFollow","Users","navigate","useNavigate","isLoading","app","isAuth","auth","params","u","useEffect","PATH","setUsersTC","Preloader"],"sourceRoot":""}