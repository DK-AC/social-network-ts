"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[499],{7058:function(e,t,n){n.r(t),n.d(t,{ChatPage:function(){return k}});var r=n(2791),s=n(5978),a=n(4265),o=n(4748),u=n(8230),i=n(3430),c=n(7732),l=n(7734),h=n(3971),f=n(2426),m=n.n(f),d=n(184),x=(0,r.memo)((function(e){var t=e.chatMessage,n=t.message,s=t.userName,a=t.photo,o=(0,r.useRef)(null),u=(0,r.useState)(!0),f=(0,i.Z)(u,2),x=f[0],j=f[1];return(0,r.useEffect)((function(){var e;x&&(null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"auto"}))}),[t]),(0,d.jsx)("div",{style:{overflow:"auto"},ref:o,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!x&&j(!0):x&&j(!1)},children:(0,d.jsx)(c.Z,{author:(0,d.jsx)("a",{children:s}),avatar:(0,d.jsx)(l.C,{src:a,alt:"Han Solo"}),content:(0,d.jsx)("p",{children:n}),datetime:(0,d.jsx)(h.Z,{title:m()().format("YYYY-MM-DD HH:mm:ss"),children:(0,d.jsx)("span",{children:m()().fromNow()})})})})})),j=function(){var e=(0,u.CG)(u.b6).map((function(e,t){return(0,d.jsx)(x,{chatMessage:e},t+o.v6+e.userId)}));return(0,d.jsx)(d.Fragment,{children:e})},v=n(7031),g=n(3272),C=n(435),b=n(9991),p=v.Z.TextArea,Z=function(e){var t=e.onChange,n=e.onSubmit,r=e.submitting,s=e.value,a=(0,u.CG)(u.BV);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.Z.Item,{children:(0,d.jsx)(p,{rows:4,onChange:t,value:s})}),(0,d.jsx)(g.Z.Item,{children:(0,d.jsx)(C.Z,{disabled:a!==b.D7.Ready,htmlType:"submit",loading:r,onClick:n,type:"default",children:"Add Comment"})})]})},w=function(){var e=(0,s.I0)(),t=(0,u.CG)(u.Qf),n=(0,r.useState)(!1),h=(0,i.Z)(n,2),f=h[0],m=h[1],x=(0,r.useState)(o.v6),j=(0,i.Z)(x,2),v=j[0],g=j[1];return t?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c.Z,{avatar:(0,d.jsx)(l.C,{src:t.small,alt:"photo user"}),content:(0,d.jsx)(Z,{onChange:function(e){g(e.target.value)},onSubmit:function(){v&&setTimeout((function(){e((0,a.bE)({message:v})),m(!1),g(o.v6)}),1e3)},submitting:f,value:v})})}):null},S="chatPage_container__S4TOn",k=function(){var e=(0,s.I0)();return(0,r.useEffect)((function(){return e((0,a.WE)()),function(){e((0,a.R7)())}}),[e]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:S,children:(0,d.jsx)(j,{})}),(0,d.jsx)(w,{})]})}}}]);
//# sourceMappingURL=499.cf68f8d0.chunk.js.map