"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[997],{997:function(e,r,n){n.r(r),n.d(r,{Users:function(){return N}});var t=n(3430),i=n(2791),s=n(5978),u=n(3504),a=n(6871),l=n(7999),c=n(1247),o=n(2593),d=n(3880),f=n(7681),m=n(184),h=function(e){var r=e.setSearchParams,n=e.uriParams,t=(0,s.I0)(),i=(0,l.CG)((function(e){return e.users})),u=i.currentPage,a=i.totalCount,c=i.pageSize,o=n.term,h=n.friend;return(0,m.jsx)(d.Z,{total:a,itemRender:function(e,r,n){return"prev"===r?(0,m.jsx)("a",{children:"Previous"}):"next"===r?(0,m.jsx)("a",{children:"Next"}):n},onChange:function(e,n){t((0,f.zt)({currentPage:e})),t((0,f.Ai)({pageSize:n})),r({page:String(e),term:o,friend:h,count:String(n)})},current:u,showQuickJumper:!0,pageSize:c})},p=n(435),g=n(3142),x=n(713),j="user_ava__-Gwz1",v="user_item__plEqK",S=n(1802),w=function(e){var r=e.user,n=(0,s.I0)(),t=(0,l.CG)((function(e){return e.users.followingInProgress})),i=r.id,a=r.name,c=r.photos,o=r.followed,d=r.status;return(0,m.jsxs)("div",{className:v,children:[(0,m.jsx)("div",{children:(0,m.jsx)("div",{children:a})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(u.OL,{to:"/profile/"+i,children:(0,m.jsx)("img",{src:c.small?c.small:S,alt:"ava",className:j})})}),(0,m.jsx)("div",{children:d}),(0,m.jsx)("div",{children:o?(0,m.jsx)(p.Z,{disabled:t.some((function(e){return e===i})),htmlType:"submit",icon:(0,m.jsx)(g.Z,{}),onClick:function(){return n((0,f._V)({userId:i,isFollow:!1}))},size:"small",children:"Unfollow"}):(0,m.jsx)(p.Z,{disabled:t.some((function(e){return e===i})),htmlType:"submit",icon:(0,m.jsx)(x.Z,{}),onClick:function(){return n((0,f._V)({userId:i,isFollow:!0}))},size:"small",children:"Follow"})})]})]})},P="users_userItems__BllGZ",_=n(5705),b=n(6982),z=n(1730),C=n(5448),G=function(e){var r=e.setSearchParams,n=(0,s.I0)(),t=(0,l.CG)((function(e){return e.users})),i=t.currentPage,u=t.pageSize,a=(0,l.CG)((function(e){return e.users.filter})),c=a.term,o=a.friend,d=(0,l.CG)((function(e){return e.app})).error,h={term:c,currentPage:i,pageSize:u,friend:o};return(0,m.jsx)(_.J9,{initialValues:h,validationSchema:b.Ry({}),onSubmit:function(e){n((0,f.HM)({pageSize:u,currentPage:i,term:e.term,friend:e.friend})),r({page:"1",term:e.term,friend:e.friend})},children:function(e){return(0,m.jsxs)(_.l0,{children:[(0,m.jsx)(C.U,{type:"text",name:"term",isShowError:!1,isShowLabel:!1,error:d,placeholder:"find users"}),(0,m.jsxs)(_.gN,{name:"friend",as:"select",children:[(0,m.jsx)("option",{value:"null",children:"All"}),(0,m.jsx)("option",{value:"true",children:"Only followed"}),(0,m.jsx)("option",{value:"false",children:"Only unfollowed"})]}),(0,m.jsx)(p.Z,{htmlType:"submit",size:"small",icon:(0,m.jsx)(z.Z,{}),children:"Search"}),(0,m.jsx)("div",{})]})}})},N=function(){var e=(0,s.I0)(),r=(0,a.s0)(),n=(0,l.CG)((function(e){return e.users})),d=n.users,p=n.pageSize,g=(0,l.CG)((function(e){return e.app})).status,x=(0,l.CG)((function(e){return e.auth.isAuth})),j=(0,u.lr)(),v=(0,t.Z)(j,2),S=v[0],_=v[1],b=d.map((function(e){return(0,m.jsx)(w,{user:e},e.id)})),z=S.get("page")||"1",C={page:z,count:S.get("count")||String(p),term:S.get("term")||"",friend:S.get("friend")||"null"};return(0,i.useEffect)((function(){_(C),e((0,f.HM)({pageSize:Number(C.count),currentPage:Number(C.page),term:C.term,friend:"null"===C.friend?"null":"true"===C.friend})),e((0,f.zt)({currentPage:Number(C.page)})),e((0,f.Ai)({pageSize:Number(C.count)}))}),[e,z,C.page,C.count]),x||r(o.m.LOGIN_PAGE),(0,m.jsx)("div",{className:P,children:"loading"===g?(0,m.jsx)(c.p,{}):(0,m.jsxs)("div",{children:[(0,m.jsx)(h,{setSearchParams:_,uriParams:C}),(0,m.jsx)(G,{setSearchParams:_}),b]})})}},1802:function(e,r,n){e.exports=n.p+"static/media/client-2-512.32194ac49cb571267c0c.webp"}}]);
//# sourceMappingURL=997.43ede06e.chunk.js.map